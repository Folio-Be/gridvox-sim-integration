import type {StdioOptionNormalizedArray} from 'execa/types/stdio/array.js';
import type {CommonOptions} from 'execa/types/arguments/options.js';
import type {ResultStdioNotAll} from 'execa/types/return/result-stdout.js';

// `result.stdio`
export type ResultStdioArray<OptionsType extends CommonOptions> =
	MapResultStdio<StdioOptionNormalizedArray<OptionsType>, OptionsType>;

type MapResultStdio<
	StdioOptionsArrayType,
	OptionsType extends CommonOptions,
> = {
	-readonly [FdNumber in keyof StdioOptionsArrayType]: ResultStdioNotAll<
	FdNumber extends string ? FdNumber : string,
	OptionsType
	>
};
