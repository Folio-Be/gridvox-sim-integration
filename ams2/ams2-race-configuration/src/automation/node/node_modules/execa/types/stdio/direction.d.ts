import type {CommonOptions} from 'execa/types/arguments/options.js';
import type {Intersects} from 'execa/types/utils.js';
import type {StdioSingleOptionItems, InputStdioOption} from 'execa/types/stdio/type.js';
import type {FdStdioArrayOption} from 'execa/types/stdio/option.js';

// Whether `result.stdio[FdNumber]` is an input stream
export type IsInputFd<
	FdNumber extends string,
	OptionsType extends CommonOptions,
> = FdNumber extends '0'
	? true
	: Intersects<StdioSingleOptionItems<FdStdioArrayOption<FdNumber, OptionsType>>, InputStdioOption>;
